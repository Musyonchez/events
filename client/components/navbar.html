<!--
    Reusable Navigation Component
    
    This component is dynamically loaded into pages via component-loader.js
    and provides consistent navigation across the entire application.
    
    Key Features:
    - Responsive design with mobile hamburger menu
    - Authentication state awareness (login/logout states)
    - Dynamic path resolution using data attributes
    - User profile dropdown with role-based links
    - Fixed positioning for persistent navigation
    
    JavaScript Integration:
    - Populated into #navbar-placeholder by component-loader.js
    - Event listeners and functionality added by main.js
    - Authentication state managed by auth.js
    - Path resolution handled by main.js setNavbarLinks()
    
    Data Attributes for Path Resolution:
    - data-root-path: Links to root-level files (index.html)
    - data-pages-path: Links to pages directory files
    - data-admin-path: Links to admin directory files
    
    Responsive Design:
    - Desktop: Full horizontal navigation (md:flex)
    - Mobile: Hamburger menu with overlay (block md:hidden)
-->
<nav class="bg-white shadow-lg fixed w-full top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <!-- 
                Brand Logo and Name
                Uses data-root-path for dynamic path resolution
            -->
            <div class="flex items-center">
                <a href="#" data-root-path="index.html" class="flex items-center">
                    <img src="/assets/images/logo.png" alt="USIU Events" class="h-8 w-auto">
                    <span class="ml-2 text-xl font-bold text-blue-600">USIU Events</span>
                </a>
            </div>
            
            <!-- 
                Desktop Navigation Menu
                Hidden on mobile (md:flex), uses data attributes for path resolution
            -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#" data-root-path="index.html" class="text-gray-700 hover:text-blue-600 font-medium">Home</a>
                <a href="#" data-pages-path="events.html" class="text-gray-700 hover:text-blue-600 font-medium">Events</a>
                <a href="#" data-pages-path="clubs.html" class="text-gray-700 hover:text-blue-600 font-medium">Clubs</a>
                
                <!-- 
                    Authentication Buttons
                    Shown when user is not logged in, hidden by main.js when authenticated
                -->
                <div id="auth-buttons" class="flex items-center space-x-4">
                    <a href="#" data-pages-path="login.html" class="text-blue-600 hover:text-blue-800 font-medium">Login</a>
                    <a href="#" data-pages-path="register.html" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-200">Register</a>
                </div>
                
                <!-- 
                    User Profile Menu
                    Hidden by default, shown by main.js when user is authenticated
                    Contains user avatar, name, and dropdown with profile options
                -->
                <div id="user-menu" class="hidden relative">
                    <button id="user-menu-button" class="flex items-center space-x-2 text-gray-700 hover:text-blue-600">
                        <img id="user-avatar" src="/assets/images/avatar.png" alt="User Avatar" class="w-8 h-8 rounded-full">
                        <span id="user-name"></span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                        <a href="#" data-pages-path="dashboard.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
                        <a href="#" id="admin-dashboard-link" data-admin-path="admin/admin-dashboard.html" class="hidden block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Admin Dashboard</a>
                        <button id="logout-btn" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</button>
                    </div>
                </div>
            </div>
            
            <!-- Mobile menu button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-700 hover:text-blue-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
        <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="#" data-root-path="index.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Home</a>
            <a href="#" data-pages-path="events.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Events</a>
            <a href="#" data-pages-path="clubs.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Clubs</a>
            
            <!-- Mobile Auth Buttons -->
            <div id="mobile-auth-buttons" class="border-t pt-2">
                <a href="#" data-pages-path="login.html" class="block px-3 py-2 text-blue-600">Login</a>
                <a href="#" data-pages-path="register.html" class="block px-3 py-2 bg-blue-600 text-white rounded-md mx-3 mt-1">Register</a>
            </div>
            
            <!-- Mobile User Menu -->
            <div id="mobile-user-menu" class="hidden border-t pt-2">
                <div class="flex items-center px-3 py-2">
                    <img id="mobile-user-avatar" src="/assets/images/avatar.png" alt="User Avatar" class="w-8 h-8 rounded-full">
                    <span id="mobile-user-name" class="ml-2 font-medium text-gray-800"></span>
                </div>
                <a href="#" data-pages-path="dashboard.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Dashboard</a>
                <a href="#" id="mobile-admin-dashboard-link" data-admin-path="admin/admin-dashboard.html" class="hidden block px-3 py-2 text-gray-700 hover:text-blue-600">Admin Dashboard</a>
                <button id="mobile-logout-btn" class="block w-full text-left px-3 py-2 text-gray-700 hover:text-blue-600">Logout</button>
            </div>
        </div>
    </div>
</nav>
